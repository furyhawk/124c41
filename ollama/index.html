<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>ollama - 124c41</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "ollama";
        var mkdocs_page_input_path = "ollama.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> 124c41
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../resume/">Resume</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../conda/">Conda</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../venv/">venv</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../poetry/">poetry</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../git/">git</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../ssh/">ssh</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../softwarearchitecture/">softwarearchitecture</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../code/">vscode</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../machine_learning/">machine_learning</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../llm/">llm</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../llama2/">llmama2</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">ollama</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#endpoints">Endpoints</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#conventions">Conventions</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#model-names">Model names</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#durations">Durations</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#streaming-responses">Streaming responses</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#generate-a-completion">Generate a completion</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#parameters">Parameters</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#json-mode">JSON mode</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#generate-request-streaming">Generate request (Streaming)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#request-no-streaming">Request (No streaming)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#request-json-mode">Request (JSON mode)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#request-with-images">Request (with images)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#request_3">Request</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#response_3">Response</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#request-raw-mode">Request (Raw Mode)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#request-reproducible-outputs">Request (Reproducible outputs)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#generate-request-with-options">Generate request (With options)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#load-a-model">Load a model</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#generate-a-chat-completion">Generate a chat completion</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#parameters_1">Parameters</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#examples_1">Examples</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#chat-request-streaming">Chat Request (Streaming)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#chat-request-no-streaming">Chat request (No streaming)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#chat-request-with-history">Chat request (With History)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#chat-request-with-images">Chat request (with images)</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#chat-request-reproducible-outputs">Chat request (Reproducible outputs)</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#create-a-model">Create a Model</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#parameters_2">Parameters</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#examples_2">Examples</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#create-a-new-model">Create a new model</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#check-if-a-blob-exists">Check if a Blob Exists</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#query-parameters">Query Parameters</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#examples_3">Examples</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#create-a-blob">Create a Blob</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#query-parameters_1">Query Parameters</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#examples_4">Examples</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#list-local-models">List Local Models</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#examples_5">Examples</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#request_16">Request</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#response_15">Response</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#show-model-information">Show Model Information</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#parameters_3">Parameters</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#examples_6">Examples</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#request_17">Request</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#response_16">Response</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#copy-a-model">Copy a Model</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#examples_7">Examples</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#request_18">Request</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#response_17">Response</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#delete-a-model">Delete a Model</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#parameters_4">Parameters</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#examples_8">Examples</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#request_19">Request</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#response_18">Response</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#pull-a-model">Pull a Model</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#parameters_5">Parameters</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#examples_9">Examples</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#request_20">Request</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#response_19">Response</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#push-a-model">Push a Model</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#parameters_6">Parameters</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#examples_10">Examples</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#request_21">Request</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#response_20">Response</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#generate-embeddings">Generate Embeddings</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#parameters_7">Parameters</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#examples_11">Examples</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#request_22">Request</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#response_21">Response</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../rag/">rag</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../framework/">Framework</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../db/">database</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../dataframe/">Dataframe</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../chart/">Chart</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../anomaly_detection/">anomaly_detection</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../hydra/">Hydra</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../linux/">Linux</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../macos/">macos</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../sway/">sway</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../docker/">Docker</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../mqtt/">mqtt</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../jetson/">jetson</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../yolox/">yolox</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../gpt/">gpt</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../stable_diffusion/">stable_diffussion</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../wandb/">Model Analysis</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../smb/">Samba</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../smb2/">Samba_ubuntu</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../mkdocs/">MkDocs</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../mypy/">mypy</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../literatures/">Literatures</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../scrape_pad/">scrape_pad</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../random/">random</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../about/">About</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">124c41</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>ollama</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="api">API</h1>
<h2 id="endpoints">Endpoints</h2>
<ul>
<li><a href="#generate-a-completion">Generate a completion</a></li>
<li><a href="#generate-a-chat-completion">Generate a chat completion</a></li>
<li><a href="#create-a-model">Create a Model</a></li>
<li><a href="#list-local-models">List Local Models</a></li>
<li><a href="#show-model-information">Show Model Information</a></li>
<li><a href="#copy-a-model">Copy a Model</a></li>
<li><a href="#delete-a-model">Delete a Model</a></li>
<li><a href="#pull-a-model">Pull a Model</a></li>
<li><a href="#push-a-model">Push a Model</a></li>
<li><a href="#generate-embeddings">Generate Embeddings</a></li>
</ul>
<h2 id="conventions">Conventions</h2>
<h3 id="model-names">Model names</h3>
<p>Model names follow a <code>model:tag</code> format, where <code>model</code> can have an optional namespace such as <code>example/model</code>. Some examples are <code>orca-mini:3b-q4_1</code> and <code>llama2:70b</code>. The tag is optional and, if not provided, will default to <code>latest</code>. The tag is used to identify a specific version.</p>
<h3 id="durations">Durations</h3>
<p>All durations are returned in nanoseconds.</p>
<h3 id="streaming-responses">Streaming responses</h3>
<p>Certain endpoints stream responses as JSON objects and can optional return non-streamed responses.</p>
<h2 id="generate-a-completion">Generate a completion</h2>
<pre><code class="language-shell">POST /api/generate
</code></pre>
<p>Generate a response for a given prompt with a provided model. This is a streaming endpoint, so there will be a series of responses. The final response object will include statistics and additional data from the request.</p>
<h3 id="parameters">Parameters</h3>
<ul>
<li><code>model</code>: (required) the <a href="#model-names">model name</a></li>
<li><code>prompt</code>: the prompt to generate a response for</li>
<li><code>images</code>: (optional) a list of base64-encoded images (for multimodal models such as <code>llava</code>)</li>
</ul>
<p>Advanced parameters (optional):</p>
<ul>
<li><code>format</code>: the format to return a response in. Currently the only accepted value is <code>json</code></li>
<li><code>options</code>: additional model parameters listed in the documentation for the <a href="./modelfile.md#valid-parameters-and-values">Modelfile</a> such as <code>temperature</code></li>
<li><code>system</code>: system message to (overrides what is defined in the <code>Modelfile</code>)</li>
<li><code>template</code>: the prompt template to use (overrides what is defined in the <code>Modelfile</code>)</li>
<li><code>context</code>: the context parameter returned from a previous request to <code>/generate</code>, this can be used to keep a short conversational memory</li>
<li><code>stream</code>: if <code>false</code> the response will be returned as a single response object, rather than a stream of objects</li>
<li><code>raw</code>: if <code>true</code> no formatting will be applied to the prompt. You may choose to use the <code>raw</code> parameter if you are specifying a full templated prompt in your request to the API</li>
<li><code>keep_alive</code>: controls how long the model will stay loaded into memory following the request (default: <code>5m</code>)</li>
</ul>
<h4 id="json-mode">JSON mode</h4>
<p>Enable JSON mode by setting the <code>format</code> parameter to <code>json</code>. This will structure the response as a valid JSON object. See the JSON mode <a href="#request-json-mode">example</a> below.</p>
<blockquote>
<p>Note: it's important to instruct the model to use JSON in the <code>prompt</code>. Otherwise, the model may generate large amounts whitespace.</p>
</blockquote>
<h3 id="examples">Examples</h3>
<h4 id="generate-request-streaming">Generate request (Streaming)</h4>
<h5 id="request">Request</h5>
<pre><code class="language-shell">curl http://localhost:11434/api/generate -d '{
  &quot;model&quot;: &quot;llama2&quot;,
  &quot;prompt&quot;: &quot;Why is the sky blue?&quot;
}'
</code></pre>
<h5 id="response">Response</h5>
<p>A stream of JSON objects is returned:</p>
<pre><code class="language-json">{
  &quot;model&quot;: &quot;llama2&quot;,
  &quot;created_at&quot;: &quot;2023-08-04T08:52:19.385406455-07:00&quot;,
  &quot;response&quot;: &quot;The&quot;,
  &quot;done&quot;: false
}
</code></pre>
<p>The final response in the stream also includes additional data about the generation:</p>
<ul>
<li><code>total_duration</code>: time spent generating the response</li>
<li><code>load_duration</code>: time spent in nanoseconds loading the model</li>
<li><code>prompt_eval_count</code>: number of tokens in the prompt</li>
<li><code>prompt_eval_duration</code>: time spent in nanoseconds evaluating the prompt</li>
<li><code>eval_count</code>: number of tokens the response</li>
<li><code>eval_duration</code>: time in nanoseconds spent generating the response</li>
<li><code>context</code>: an encoding of the conversation used in this response, this can be sent in the next request to keep a conversational memory</li>
<li><code>response</code>: empty if the response was streamed, if not streamed, this will contain the full response</li>
</ul>
<p>To calculate how fast the response is generated in tokens per second (token/s), divide <code>eval_count</code> / <code>eval_duration</code>.</p>
<pre><code class="language-json">{
  &quot;model&quot;: &quot;llama2&quot;,
  &quot;created_at&quot;: &quot;2023-08-04T19:22:45.499127Z&quot;,
  &quot;response&quot;: &quot;&quot;,
  &quot;done&quot;: true,
  &quot;context&quot;: [1, 2, 3],
  &quot;total_duration&quot;: 10706818083,
  &quot;load_duration&quot;: 6338219291,
  &quot;prompt_eval_count&quot;: 26,
  &quot;prompt_eval_duration&quot;: 130079000,
  &quot;eval_count&quot;: 259,
  &quot;eval_duration&quot;: 4232710000
}
</code></pre>
<h4 id="request-no-streaming">Request (No streaming)</h4>
<h5 id="request_1">Request</h5>
<p>A response can be received in one reply when streaming is off.</p>
<pre><code class="language-shell">curl http://localhost:11434/api/generate -d '{
  &quot;model&quot;: &quot;llama2&quot;,
  &quot;prompt&quot;: &quot;Why is the sky blue?&quot;,
  &quot;stream&quot;: false
}'
</code></pre>
<h5 id="response_1">Response</h5>
<p>If <code>stream</code> is set to <code>false</code>, the response will be a single JSON object:</p>
<pre><code class="language-json">{
  &quot;model&quot;: &quot;llama2&quot;,
  &quot;created_at&quot;: &quot;2023-08-04T19:22:45.499127Z&quot;,
  &quot;response&quot;: &quot;The sky is blue because it is the color of the sky.&quot;,
  &quot;done&quot;: true,
  &quot;context&quot;: [1, 2, 3],
  &quot;total_duration&quot;: 5043500667,
  &quot;load_duration&quot;: 5025959,
  &quot;prompt_eval_count&quot;: 26,
  &quot;prompt_eval_duration&quot;: 325953000,
  &quot;eval_count&quot;: 290,
  &quot;eval_duration&quot;: 4709213000
}
</code></pre>
<h4 id="request-json-mode">Request (JSON mode)</h4>
<blockquote>
<p>When <code>format</code> is set to <code>json</code>, the output will always be a well-formed JSON object. It's important to also instruct the model to respond in JSON.</p>
</blockquote>
<h5 id="request_2">Request</h5>
<pre><code class="language-shell">curl http://localhost:11434/api/generate -d '{
  &quot;model&quot;: &quot;llama2&quot;,
  &quot;prompt&quot;: &quot;What color is the sky at different times of the day? Respond using JSON&quot;,
  &quot;format&quot;: &quot;json&quot;,
  &quot;stream&quot;: false
}'
</code></pre>
<h5 id="response_2">Response</h5>
<pre><code class="language-json">{
  &quot;model&quot;: &quot;llama2&quot;,
  &quot;created_at&quot;: &quot;2023-11-09T21:07:55.186497Z&quot;,
  &quot;response&quot;: &quot;{\n\&quot;morning\&quot;: {\n\&quot;color\&quot;: \&quot;blue\&quot;\n},\n\&quot;noon\&quot;: {\n\&quot;color\&quot;: \&quot;blue-gray\&quot;\n},\n\&quot;afternoon\&quot;: {\n\&quot;color\&quot;: \&quot;warm gray\&quot;\n},\n\&quot;evening\&quot;: {\n\&quot;color\&quot;: \&quot;orange\&quot;\n}\n}\n&quot;,
  &quot;done&quot;: true,
  &quot;context&quot;: [1, 2, 3],
  &quot;total_duration&quot;: 4648158584,
  &quot;load_duration&quot;: 4071084,
  &quot;prompt_eval_count&quot;: 36,
  &quot;prompt_eval_duration&quot;: 439038000,
  &quot;eval_count&quot;: 180,
  &quot;eval_duration&quot;: 4196918000
}
</code></pre>
<p>The value of <code>response</code> will be a string containing JSON similar to:</p>
<pre><code class="language-json">{
  &quot;morning&quot;: {
    &quot;color&quot;: &quot;blue&quot;
  },
  &quot;noon&quot;: {
    &quot;color&quot;: &quot;blue-gray&quot;
  },
  &quot;afternoon&quot;: {
    &quot;color&quot;: &quot;warm gray&quot;
  },
  &quot;evening&quot;: {
    &quot;color&quot;: &quot;orange&quot;
  }
}
</code></pre>
<h4 id="request-with-images">Request (with images)</h4>
<p>To submit images to multimodal models such as <code>llava</code> or <code>bakllava</code>, provide a list of base64-encoded <code>images</code>:</p>
<h4 id="request_3">Request</h4>
<pre><code class="language-shell">curl http://localhost:11434/api/generate -d '{
  &quot;model&quot;: &quot;llava&quot;,
  &quot;prompt&quot;:&quot;What is in this picture?&quot;,
  &quot;stream&quot;: false,
  &quot;images&quot;: [&quot;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&quot;]
}'
</code></pre>
<h4 id="response_3">Response</h4>
<pre><code>{
  &quot;model&quot;: &quot;llava&quot;,
  &quot;created_at&quot;: &quot;2023-11-03T15:36:02.583064Z&quot;,
  &quot;response&quot;: &quot;A happy cartoon character, which is cute and cheerful.&quot;,
  &quot;done&quot;: true,
  &quot;context&quot;: [1, 2, 3],
  &quot;total_duration&quot;: 2938432250,
  &quot;load_duration&quot;: 2559292,
  &quot;prompt_eval_count&quot;: 1,
  &quot;prompt_eval_duration&quot;: 2195557000,
  &quot;eval_count&quot;: 44,
  &quot;eval_duration&quot;: 736432000
}
</code></pre>
<h4 id="request-raw-mode">Request (Raw Mode)</h4>
<p>In some cases, you may wish to bypass the templating system and provide a full prompt. In this case, you can use the <code>raw</code> parameter to disable templating. Also note that raw mode will not return a context.</p>
<h5 id="request_4">Request</h5>
<pre><code class="language-shell">curl http://localhost:11434/api/generate -d '{
  &quot;model&quot;: &quot;mistral&quot;,
  &quot;prompt&quot;: &quot;[INST] why is the sky blue? [/INST]&quot;,
  &quot;raw&quot;: true,
  &quot;stream&quot;: false
}'
</code></pre>
<h4 id="request-reproducible-outputs">Request (Reproducible outputs)</h4>
<p>For reproducible outputs, set <code>temperature</code> to 0 and <code>seed</code> to a number:</p>
<h5 id="request_5">Request</h5>
<pre><code class="language-shell">curl http://localhost:11434/api/generate -d '{
  &quot;model&quot;: &quot;mistral&quot;,
  &quot;prompt&quot;: &quot;Why is the sky blue?&quot;,
  &quot;options&quot;: {
    &quot;seed&quot;: 123,
    &quot;temperature&quot;: 0
  }
}'
</code></pre>
<h5 id="response_4">Response</h5>
<pre><code class="language-json">{
  &quot;model&quot;: &quot;mistral&quot;,
  &quot;created_at&quot;: &quot;2023-11-03T15:36:02.583064Z&quot;,
  &quot;response&quot;: &quot; The sky appears blue because of a phenomenon called Rayleigh scattering.&quot;,
  &quot;done&quot;: true,
  &quot;total_duration&quot;: 8493852375,
  &quot;load_duration&quot;: 6589624375,
  &quot;prompt_eval_count&quot;: 14,
  &quot;prompt_eval_duration&quot;: 119039000,
  &quot;eval_count&quot;: 110,
  &quot;eval_duration&quot;: 1779061000
}
</code></pre>
<h4 id="generate-request-with-options">Generate request (With options)</h4>
<p>If you want to set custom options for the model at runtime rather than in the Modelfile, you can do so with the <code>options</code> parameter. This example sets every available option, but you can set any of them individually and omit the ones you do not want to override.</p>
<h5 id="request_6">Request</h5>
<pre><code class="language-shell">curl http://localhost:11434/api/generate -d '{
  &quot;model&quot;: &quot;llama2&quot;,
  &quot;prompt&quot;: &quot;Why is the sky blue?&quot;,
  &quot;stream&quot;: false,
  &quot;options&quot;: {
    &quot;num_keep&quot;: 5,
    &quot;seed&quot;: 42,
    &quot;num_predict&quot;: 100,
    &quot;top_k&quot;: 20,
    &quot;top_p&quot;: 0.9,
    &quot;tfs_z&quot;: 0.5,
    &quot;typical_p&quot;: 0.7,
    &quot;repeat_last_n&quot;: 33,
    &quot;temperature&quot;: 0.8,
    &quot;repeat_penalty&quot;: 1.2,
    &quot;presence_penalty&quot;: 1.5,
    &quot;frequency_penalty&quot;: 1.0,
    &quot;mirostat&quot;: 1,
    &quot;mirostat_tau&quot;: 0.8,
    &quot;mirostat_eta&quot;: 0.6,
    &quot;penalize_newline&quot;: true,
    &quot;stop&quot;: [&quot;\n&quot;, &quot;user:&quot;],
    &quot;numa&quot;: false,
    &quot;num_ctx&quot;: 1024,
    &quot;num_batch&quot;: 2,
    &quot;num_gqa&quot;: 1,
    &quot;num_gpu&quot;: 1,
    &quot;main_gpu&quot;: 0,
    &quot;low_vram&quot;: false,
    &quot;f16_kv&quot;: true,
    &quot;vocab_only&quot;: false,
    &quot;use_mmap&quot;: true,
    &quot;use_mlock&quot;: false,
    &quot;rope_frequency_base&quot;: 1.1,
    &quot;rope_frequency_scale&quot;: 0.8,
    &quot;num_thread&quot;: 8
  }
}'
</code></pre>
<h5 id="response_5">Response</h5>
<pre><code class="language-json">{
  &quot;model&quot;: &quot;llama2&quot;,
  &quot;created_at&quot;: &quot;2023-08-04T19:22:45.499127Z&quot;,
  &quot;response&quot;: &quot;The sky is blue because it is the color of the sky.&quot;,
  &quot;done&quot;: true,
  &quot;context&quot;: [1, 2, 3],
  &quot;total_duration&quot;: 4935886791,
  &quot;load_duration&quot;: 534986708,
  &quot;prompt_eval_count&quot;: 26,
  &quot;prompt_eval_duration&quot;: 107345000,
  &quot;eval_count&quot;: 237,
  &quot;eval_duration&quot;: 4289432000
}
</code></pre>
<h4 id="load-a-model">Load a model</h4>
<p>If an empty prompt is provided, the model will be loaded into memory.</p>
<h5 id="request_7">Request</h5>
<pre><code class="language-shell">curl http://localhost:11434/api/generate -d '{
  &quot;model&quot;: &quot;llama2&quot;
}'
</code></pre>
<h5 id="response_6">Response</h5>
<p>A single JSON object is returned:</p>
<pre><code class="language-json">{
  &quot;model&quot;: &quot;llama2&quot;,
  &quot;created_at&quot;: &quot;2023-12-18T19:52:07.071755Z&quot;,
  &quot;response&quot;: &quot;&quot;,
  &quot;done&quot;: true
}
</code></pre>
<h2 id="generate-a-chat-completion">Generate a chat completion</h2>
<pre><code class="language-shell">POST /api/chat
</code></pre>
<p>Generate the next message in a chat with a provided model. This is a streaming endpoint, so there will be a series of responses. Streaming can be disabled using <code>"stream": false</code>. The final response object will include statistics and additional data from the request.</p>
<h3 id="parameters_1">Parameters</h3>
<ul>
<li><code>model</code>: (required) the <a href="#model-names">model name</a></li>
<li><code>messages</code>: the messages of the chat, this can be used to keep a chat memory</li>
</ul>
<p>The <code>message</code> object has the following fields:</p>
<ul>
<li><code>role</code>: the role of the message, either <code>system</code>, <code>user</code> or <code>assistant</code></li>
<li><code>content</code>: the content of the message</li>
<li><code>images</code> (optional): a list of images to include in the message (for multimodal models such as <code>llava</code>)</li>
</ul>
<p>Advanced parameters (optional):</p>
<ul>
<li><code>format</code>: the format to return a response in. Currently the only accepted value is <code>json</code></li>
<li><code>options</code>: additional model parameters listed in the documentation for the <a href="./modelfile.md#valid-parameters-and-values">Modelfile</a> such as <code>temperature</code></li>
<li><code>template</code>: the prompt template to use (overrides what is defined in the <code>Modelfile</code>)</li>
<li><code>stream</code>: if <code>false</code> the response will be returned as a single response object, rather than a stream of objects</li>
<li><code>keep_alive</code>: controls how long the model will stay loaded into memory following the request (default: <code>5m</code>)</li>
</ul>
<h3 id="examples_1">Examples</h3>
<h4 id="chat-request-streaming">Chat Request (Streaming)</h4>
<h5 id="request_8">Request</h5>
<p>Send a chat message with a streaming response.</p>
<pre><code class="language-shell">curl http://localhost:11434/api/chat -d '{
  &quot;model&quot;: &quot;llama2&quot;,
  &quot;messages&quot;: [
    {
      &quot;role&quot;: &quot;user&quot;,
      &quot;content&quot;: &quot;why is the sky blue?&quot;
    }
  ]
}'
</code></pre>
<h5 id="response_7">Response</h5>
<p>A stream of JSON objects is returned:</p>
<pre><code class="language-json">{
  &quot;model&quot;: &quot;llama2&quot;,
  &quot;created_at&quot;: &quot;2023-08-04T08:52:19.385406455-07:00&quot;,
  &quot;message&quot;: {
    &quot;role&quot;: &quot;assistant&quot;,
    &quot;content&quot;: &quot;The&quot;,
    &quot;images&quot;: null
  },
  &quot;done&quot;: false
}
</code></pre>
<p>Final response:</p>
<pre><code class="language-json">{
  &quot;model&quot;: &quot;llama2&quot;,
  &quot;created_at&quot;: &quot;2023-08-04T19:22:45.499127Z&quot;,
  &quot;done&quot;: true,
  &quot;total_duration&quot;: 4883583458,
  &quot;load_duration&quot;: 1334875,
  &quot;prompt_eval_count&quot;: 26,
  &quot;prompt_eval_duration&quot;: 342546000,
  &quot;eval_count&quot;: 282,
  &quot;eval_duration&quot;: 4535599000
}
</code></pre>
<h4 id="chat-request-no-streaming">Chat request (No streaming)</h4>
<h5 id="request_9">Request</h5>
<pre><code class="language-shell">curl http://localhost:11434/api/chat -d '{
  &quot;model&quot;: &quot;llama2&quot;,
  &quot;messages&quot;: [
    {
      &quot;role&quot;: &quot;user&quot;,
      &quot;content&quot;: &quot;why is the sky blue?&quot;
    }
  ],
  &quot;stream&quot;: false
}'
</code></pre>
<h5 id="response_8">Response</h5>
<pre><code class="language-json">{
  &quot;model&quot;: &quot;registry.ollama.ai/library/llama2:latest&quot;,
  &quot;created_at&quot;: &quot;2023-12-12T14:13:43.416799Z&quot;,
  &quot;message&quot;: {
    &quot;role&quot;: &quot;assistant&quot;,
    &quot;content&quot;: &quot;Hello! How are you today?&quot;
  },
  &quot;done&quot;: true,
  &quot;total_duration&quot;: 5191566416,
  &quot;load_duration&quot;: 2154458,
  &quot;prompt_eval_count&quot;: 26,
  &quot;prompt_eval_duration&quot;: 383809000,
  &quot;eval_count&quot;: 298,
  &quot;eval_duration&quot;: 4799921000
}
</code></pre>
<h4 id="chat-request-with-history">Chat request (With History)</h4>
<p>Send a chat message with a conversation history. You can use this same approach to start the conversation using multi-shot or chain-of-thought prompting.</p>
<h5 id="request_10">Request</h5>
<pre><code class="language-shell">curl http://localhost:11434/api/chat -d '{
  &quot;model&quot;: &quot;llama2&quot;,
  &quot;messages&quot;: [
    {
      &quot;role&quot;: &quot;user&quot;,
      &quot;content&quot;: &quot;why is the sky blue?&quot;
    },
    {
      &quot;role&quot;: &quot;assistant&quot;,
      &quot;content&quot;: &quot;due to rayleigh scattering.&quot;
    },
    {
      &quot;role&quot;: &quot;user&quot;,
      &quot;content&quot;: &quot;how is that different than mie scattering?&quot;
    }
  ]
}'
</code></pre>
<h5 id="response_9">Response</h5>
<p>A stream of JSON objects is returned:</p>
<pre><code class="language-json">{
  &quot;model&quot;: &quot;llama2&quot;,
  &quot;created_at&quot;: &quot;2023-08-04T08:52:19.385406455-07:00&quot;,
  &quot;message&quot;: {
    &quot;role&quot;: &quot;assistant&quot;,
    &quot;content&quot;: &quot;The&quot;
  },
  &quot;done&quot;: false
}
</code></pre>
<p>Final response:</p>
<pre><code class="language-json">{
  &quot;model&quot;: &quot;llama2&quot;,
  &quot;created_at&quot;: &quot;2023-08-04T19:22:45.499127Z&quot;,
  &quot;done&quot;: true,
  &quot;total_duration&quot;: 8113331500,
  &quot;load_duration&quot;: 6396458,
  &quot;prompt_eval_count&quot;: 61,
  &quot;prompt_eval_duration&quot;: 398801000,
  &quot;eval_count&quot;: 468,
  &quot;eval_duration&quot;: 7701267000
}
</code></pre>
<h4 id="chat-request-with-images">Chat request (with images)</h4>
<h5 id="request_11">Request</h5>
<p>Send a chat message with a conversation history.</p>
<pre><code class="language-shell">curl http://localhost:11434/api/chat -d '{
  &quot;model&quot;: &quot;llava&quot;,
  &quot;messages&quot;: [
    {
      &quot;role&quot;: &quot;user&quot;,
      &quot;content&quot;: &quot;what is in this image?&quot;,
      &quot;images&quot;: [&quot;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&quot;]
    }
  ]
}'
</code></pre>
<h5 id="response_10">Response</h5>
<pre><code class="language-json">{
  &quot;model&quot;: &quot;llava&quot;,
  &quot;created_at&quot;: &quot;2023-12-13T22:42:50.203334Z&quot;,
  &quot;message&quot;: {
    &quot;role&quot;: &quot;assistant&quot;,
    &quot;content&quot;: &quot; The image features a cute, little pig with an angry facial expression. It's wearing a heart on its shirt and is waving in the air. This scene appears to be part of a drawing or sketching project.&quot;,
    &quot;images&quot;: null
  },
  &quot;done&quot;: true,
  &quot;total_duration&quot;: 1668506709,
  &quot;load_duration&quot;: 1986209,
  &quot;prompt_eval_count&quot;: 26,
  &quot;prompt_eval_duration&quot;: 359682000,
  &quot;eval_count&quot;: 83,
  &quot;eval_duration&quot;: 1303285000
}
</code></pre>
<h4 id="chat-request-reproducible-outputs">Chat request (Reproducible outputs)</h4>
<h5 id="request_12">Request</h5>
<pre><code class="language-shell">curl http://localhost:11434/api/chat -d '{
  &quot;model&quot;: &quot;llama2&quot;,
  &quot;messages&quot;: [
    {
      &quot;role&quot;: &quot;user&quot;,
      &quot;content&quot;: &quot;Hello!&quot;
    }
  ],
  &quot;options&quot;: {
    &quot;seed&quot;: 101,
    &quot;temperature&quot;: 0
  }
}'
</code></pre>
<h5 id="response_11">Response</h5>
<pre><code class="language-json">{
  &quot;model&quot;: &quot;registry.ollama.ai/library/llama2:latest&quot;,
  &quot;created_at&quot;: &quot;2023-12-12T14:13:43.416799Z&quot;,
  &quot;message&quot;: {
    &quot;role&quot;: &quot;assistant&quot;,
    &quot;content&quot;: &quot;Hello! How are you today?&quot;
  },
  &quot;done&quot;: true,
  &quot;total_duration&quot;: 5191566416,
  &quot;load_duration&quot;: 2154458,
  &quot;prompt_eval_count&quot;: 26,
  &quot;prompt_eval_duration&quot;: 383809000,
  &quot;eval_count&quot;: 298,
  &quot;eval_duration&quot;: 4799921000
}
</code></pre>
<h2 id="create-a-model">Create a Model</h2>
<pre><code class="language-shell">POST /api/create
</code></pre>
<p>Create a model from a <a href="./modelfile.md"><code>Modelfile</code></a>. It is recommended to set <code>modelfile</code> to the content of the Modelfile rather than just set <code>path</code>. This is a requirement for remote create. Remote model creation must also create any file blobs, fields such as <code>FROM</code> and <code>ADAPTER</code>, explicitly with the server using <a href="#create-a-blob">Create a Blob</a> and the value to the path indicated in the response.</p>
<h3 id="parameters_2">Parameters</h3>
<ul>
<li><code>name</code>: name of the model to create</li>
<li><code>modelfile</code> (optional): contents of the Modelfile</li>
<li><code>stream</code>: (optional) if <code>false</code> the response will be returned as a single response object, rather than a stream of objects</li>
<li><code>path</code> (optional): path to the Modelfile</li>
</ul>
<h3 id="examples_2">Examples</h3>
<h4 id="create-a-new-model">Create a new model</h4>
<p>Create a new model from a <code>Modelfile</code>.</p>
<h5 id="request_13">Request</h5>
<pre><code class="language-shell">curl http://localhost:11434/api/create -d '{
  &quot;name&quot;: &quot;mario&quot;,
  &quot;modelfile&quot;: &quot;FROM llama2\nSYSTEM You are mario from Super Mario Bros.&quot;
}'
</code></pre>
<h5 id="response_12">Response</h5>
<p>A stream of JSON objects. Notice that the final JSON object shows a <code>"status": "success"</code>.</p>
<pre><code class="language-json">{&quot;status&quot;:&quot;reading model metadata&quot;}
{&quot;status&quot;:&quot;creating system layer&quot;}
{&quot;status&quot;:&quot;using already created layer sha256:22f7f8ef5f4c791c1b03d7eb414399294764d7cc82c7e94aa81a1feb80a983a2&quot;}
{&quot;status&quot;:&quot;using already created layer sha256:8c17c2ebb0ea011be9981cc3922db8ca8fa61e828c5d3f44cb6ae342bf80460b&quot;}
{&quot;status&quot;:&quot;using already created layer sha256:7c23fb36d80141c4ab8cdbb61ee4790102ebd2bf7aeff414453177d4f2110e5d&quot;}
{&quot;status&quot;:&quot;using already created layer sha256:2e0493f67d0c8c9c68a8aeacdf6a38a2151cb3c4c1d42accf296e19810527988&quot;}
{&quot;status&quot;:&quot;using already created layer sha256:2759286baa875dc22de5394b4a925701b1896a7e3f8e53275c36f75a877a82c9&quot;}
{&quot;status&quot;:&quot;writing layer sha256:df30045fe90f0d750db82a058109cecd6d4de9c90a3d75b19c09e5f64580bb42&quot;}
{&quot;status&quot;:&quot;writing layer sha256:f18a68eb09bf925bb1b669490407c1b1251c5db98dc4d3d81f3088498ea55690&quot;}
{&quot;status&quot;:&quot;writing manifest&quot;}
{&quot;status&quot;:&quot;success&quot;}
</code></pre>
<h3 id="check-if-a-blob-exists">Check if a Blob Exists</h3>
<pre><code class="language-shell">HEAD /api/blobs/:digest
</code></pre>
<p>Ensures that the file blob used for a FROM or ADAPTER field exists on the server. This is checking your Ollama server and not Ollama.ai.</p>
<h4 id="query-parameters">Query Parameters</h4>
<ul>
<li><code>digest</code>: the SHA256 digest of the blob</li>
</ul>
<h4 id="examples_3">Examples</h4>
<h5 id="request_14">Request</h5>
<pre><code class="language-shell">curl -I http://localhost:11434/api/blobs/sha256:29fdb92e57cf0827ded04ae6461b5931d01fa595843f55d36f5b275a52087dd2
</code></pre>
<h5 id="response_13">Response</h5>
<p>Return 200 OK if the blob exists, 404 Not Found if it does not.</p>
<h3 id="create-a-blob">Create a Blob</h3>
<pre><code class="language-shell">POST /api/blobs/:digest
</code></pre>
<p>Create a blob from a file on the server. Returns the server file path.</p>
<h4 id="query-parameters_1">Query Parameters</h4>
<ul>
<li><code>digest</code>: the expected SHA256 digest of the file</li>
</ul>
<h4 id="examples_4">Examples</h4>
<h5 id="request_15">Request</h5>
<pre><code class="language-shell">curl -T model.bin -X POST http://localhost:11434/api/blobs/sha256:29fdb92e57cf0827ded04ae6461b5931d01fa595843f55d36f5b275a52087dd2
</code></pre>
<h5 id="response_14">Response</h5>
<p>Return 201 Created if the blob was successfully created, 400 Bad Request if the digest used is not expected.</p>
<h2 id="list-local-models">List Local Models</h2>
<pre><code class="language-shell">GET /api/tags
</code></pre>
<p>List models that are available locally.</p>
<h3 id="examples_5">Examples</h3>
<h4 id="request_16">Request</h4>
<pre><code class="language-shell">curl http://localhost:11434/api/tags
</code></pre>
<h4 id="response_15">Response</h4>
<p>A single JSON object will be returned.</p>
<pre><code class="language-json">{
  &quot;models&quot;: [
    {
      &quot;name&quot;: &quot;codellama:13b&quot;,
      &quot;modified_at&quot;: &quot;2023-11-04T14:56:49.277302595-07:00&quot;,
      &quot;size&quot;: 7365960935,
      &quot;digest&quot;: &quot;9f438cb9cd581fc025612d27f7c1a6669ff83a8bb0ed86c94fcf4c5440555697&quot;,
      &quot;details&quot;: {
        &quot;format&quot;: &quot;gguf&quot;,
        &quot;family&quot;: &quot;llama&quot;,
        &quot;families&quot;: null,
        &quot;parameter_size&quot;: &quot;13B&quot;,
        &quot;quantization_level&quot;: &quot;Q4_0&quot;
      }
    },
    {
      &quot;name&quot;: &quot;llama2:latest&quot;,
      &quot;modified_at&quot;: &quot;2023-12-07T09:32:18.757212583-08:00&quot;,
      &quot;size&quot;: 3825819519,
      &quot;digest&quot;: &quot;fe938a131f40e6f6d40083c9f0f430a515233eb2edaa6d72eb85c50d64f2300e&quot;,
      &quot;details&quot;: {
        &quot;format&quot;: &quot;gguf&quot;,
        &quot;family&quot;: &quot;llama&quot;,
        &quot;families&quot;: null,
        &quot;parameter_size&quot;: &quot;7B&quot;,
        &quot;quantization_level&quot;: &quot;Q4_0&quot;
      }
    }
  ]
}
</code></pre>
<h2 id="show-model-information">Show Model Information</h2>
<pre><code class="language-shell">POST /api/show
</code></pre>
<p>Show information about a model including details, modelfile, template, parameters, license, and system prompt.</p>
<h3 id="parameters_3">Parameters</h3>
<ul>
<li><code>name</code>: name of the model to show</li>
</ul>
<h3 id="examples_6">Examples</h3>
<h4 id="request_17">Request</h4>
<pre><code class="language-shell">curl http://localhost:11434/api/show -d '{
  &quot;name&quot;: &quot;llama2&quot;
}'
</code></pre>
<h4 id="response_16">Response</h4>
<pre><code class="language-json">{
  &quot;modelfile&quot;: &quot;# Modelfile generated by \&quot;ollama show\&quot;\n# To build a new Modelfile based on this one, replace the FROM line with:\n# FROM llava:latest\n\nFROM /Users/matt/.ollama/models/blobs/sha256:200765e1283640ffbd013184bf496e261032fa75b99498a9613be4e94d63ad52\nTEMPLATE \&quot;\&quot;\&quot;{{ .System }}\nUSER: {{ .Prompt }}\nASSSISTANT: \&quot;\&quot;\&quot;\nPARAMETER num_ctx 4096\nPARAMETER stop \&quot;\u003c/s\u003e\&quot;\nPARAMETER stop \&quot;USER:\&quot;\nPARAMETER stop \&quot;ASSSISTANT:\&quot;&quot;,
  &quot;parameters&quot;: &quot;num_ctx                        4096\nstop                           \u003c/s\u003e\nstop                           USER:\nstop                           ASSSISTANT:&quot;,
  &quot;template&quot;: &quot;{{ .System }}\nUSER: {{ .Prompt }}\nASSSISTANT: &quot;,
  &quot;details&quot;: {
    &quot;format&quot;: &quot;gguf&quot;,
    &quot;family&quot;: &quot;llama&quot;,
    &quot;families&quot;: [&quot;llama&quot;, &quot;clip&quot;],
    &quot;parameter_size&quot;: &quot;7B&quot;,
    &quot;quantization_level&quot;: &quot;Q4_0&quot;
  }
}
</code></pre>
<h2 id="copy-a-model">Copy a Model</h2>
<pre><code class="language-shell">POST /api/copy
</code></pre>
<p>Copy a model. Creates a model with another name from an existing model.</p>
<h3 id="examples_7">Examples</h3>
<h4 id="request_18">Request</h4>
<pre><code class="language-shell">curl http://localhost:11434/api/copy -d '{
  &quot;source&quot;: &quot;llama2&quot;,
  &quot;destination&quot;: &quot;llama2-backup&quot;
}'
</code></pre>
<h4 id="response_17">Response</h4>
<p>Returns a 200 OK if successful, or a 404 Not Found if the source model doesn't exist.</p>
<h2 id="delete-a-model">Delete a Model</h2>
<pre><code class="language-shell">DELETE /api/delete
</code></pre>
<p>Delete a model and its data.</p>
<h3 id="parameters_4">Parameters</h3>
<ul>
<li><code>name</code>: model name to delete</li>
</ul>
<h3 id="examples_8">Examples</h3>
<h4 id="request_19">Request</h4>
<pre><code class="language-shell">curl -X DELETE http://localhost:11434/api/delete -d '{
  &quot;name&quot;: &quot;llama2:13b&quot;
}'
</code></pre>
<h4 id="response_18">Response</h4>
<p>Returns a 200 OK if successful, 404 Not Found if the model to be deleted doesn't exist.</p>
<h2 id="pull-a-model">Pull a Model</h2>
<pre><code class="language-shell">POST /api/pull
</code></pre>
<p>Download a model from the ollama library. Cancelled pulls are resumed from where they left off, and multiple calls will share the same download progress.</p>
<h3 id="parameters_5">Parameters</h3>
<ul>
<li><code>name</code>: name of the model to pull</li>
<li><code>insecure</code>: (optional) allow insecure connections to the library. Only use this if you are pulling from your own library during development.</li>
<li><code>stream</code>: (optional) if <code>false</code> the response will be returned as a single response object, rather than a stream of objects</li>
</ul>
<h3 id="examples_9">Examples</h3>
<h4 id="request_20">Request</h4>
<pre><code class="language-shell">curl http://localhost:11434/api/pull -d '{
  &quot;name&quot;: &quot;llama2&quot;
}'
</code></pre>
<h4 id="response_19">Response</h4>
<p>If <code>stream</code> is not specified, or set to <code>true</code>, a stream of JSON objects is returned:</p>
<p>The first object is the manifest:</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;pulling manifest&quot;
}
</code></pre>
<p>Then there is a series of downloading responses. Until any of the download is completed, the <code>completed</code> key may not be included. The number of files to be downloaded depends on the number of layers specified in the manifest.</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;downloading digestname&quot;,
  &quot;digest&quot;: &quot;digestname&quot;,
  &quot;total&quot;: 2142590208,
  &quot;completed&quot;: 241970
}
</code></pre>
<p>After all the files are downloaded, the final responses are:</p>
<pre><code class="language-json">{
    &quot;status&quot;: &quot;verifying sha256 digest&quot;
}
{
    &quot;status&quot;: &quot;writing manifest&quot;
}
{
    &quot;status&quot;: &quot;removing any unused layers&quot;
}
{
    &quot;status&quot;: &quot;success&quot;
}
</code></pre>
<p>if <code>stream</code> is set to false, then the response is a single JSON object:</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;success&quot;
}
</code></pre>
<h2 id="push-a-model">Push a Model</h2>
<pre><code class="language-shell">POST /api/push
</code></pre>
<p>Upload a model to a model library. Requires registering for ollama.ai and adding a public key first.</p>
<h3 id="parameters_6">Parameters</h3>
<ul>
<li><code>name</code>: name of the model to push in the form of <code>&lt;namespace&gt;/&lt;model&gt;:&lt;tag&gt;</code></li>
<li><code>insecure</code>: (optional) allow insecure connections to the library. Only use this if you are pushing to your library during development.</li>
<li><code>stream</code>: (optional) if <code>false</code> the response will be returned as a single response object, rather than a stream of objects</li>
</ul>
<h3 id="examples_10">Examples</h3>
<h4 id="request_21">Request</h4>
<pre><code class="language-shell">curl http://localhost:11434/api/push -d '{
  &quot;name&quot;: &quot;mattw/pygmalion:latest&quot;
}'
</code></pre>
<h4 id="response_20">Response</h4>
<p>If <code>stream</code> is not specified, or set to <code>true</code>, a stream of JSON objects is returned:</p>
<pre><code class="language-json">{ &quot;status&quot;: &quot;retrieving manifest&quot; }
</code></pre>
<p>and then:</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;starting upload&quot;,
  &quot;digest&quot;: &quot;sha256:bc07c81de745696fdf5afca05e065818a8149fb0c77266fb584d9b2cba3711ab&quot;,
  &quot;total&quot;: 1928429856
}
</code></pre>
<p>Then there is a series of uploading responses:</p>
<pre><code class="language-json">{
  &quot;status&quot;: &quot;starting upload&quot;,
  &quot;digest&quot;: &quot;sha256:bc07c81de745696fdf5afca05e065818a8149fb0c77266fb584d9b2cba3711ab&quot;,
  &quot;total&quot;: 1928429856
}
</code></pre>
<p>Finally, when the upload is complete:</p>
<pre><code class="language-json">{&quot;status&quot;:&quot;pushing manifest&quot;}
{&quot;status&quot;:&quot;success&quot;}
</code></pre>
<p>If <code>stream</code> is set to <code>false</code>, then the response is a single JSON object:</p>
<pre><code class="language-json">{ &quot;status&quot;: &quot;success&quot; }
</code></pre>
<h2 id="generate-embeddings">Generate Embeddings</h2>
<pre><code class="language-shell">POST /api/embeddings
</code></pre>
<p>Generate embeddings from a model</p>
<h3 id="parameters_7">Parameters</h3>
<ul>
<li><code>model</code>: name of model to generate embeddings from</li>
<li><code>prompt</code>: text to generate embeddings for</li>
</ul>
<p>Advanced parameters:</p>
<ul>
<li><code>options</code>: additional model parameters listed in the documentation for the <a href="./modelfile.md#valid-parameters-and-values">Modelfile</a> such as <code>temperature</code></li>
<li><code>keep_alive</code>: controls how long the model will stay loaded into memory following the request (default: <code>5m</code>)</li>
</ul>
<h3 id="examples_11">Examples</h3>
<h4 id="request_22">Request</h4>
<pre><code class="language-shell">curl http://localhost:11434/api/embeddings -d '{
  &quot;model&quot;: &quot;all-minilm&quot;,
  &quot;prompt&quot;: &quot;Here is an article about llamas...&quot;
}'
</code></pre>
<h4 id="response_21">Response</h4>
<pre><code class="language-json">{
  &quot;embedding&quot;: [
    0.5670403838157654, 0.009260174818336964, 0.23178744316101074, -0.2916173040866852, -0.8924556970596313,
    0.8785552978515625, -0.34576427936553955, 0.5742510557174683, -0.04222835972905159, -0.137906014919281
  ]
}
</code></pre>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../llama2/" class="btn btn-neutral float-left" title="llmama2"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../rag/" class="btn btn-neutral float-right" title="rag">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../llama2/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../rag/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
